N, M = map(int, input().split())
matrix = [list(map(int, input().split())) for _ in range(N)]
m = 0
shape = [
    # 1
    [[0, 1], [0, 2], [0, 3]], [[1, 0], [2, 0], [3, 0]],
    # 2x2
    [[0, 1], [1, 0], [1, 1]],
    # ㄴ
    [[0, 1], [0, 2], [1, 2]], [[0, 1], [0, 2], [-1, 2]],
    [[1, 0], [2, 0], [2, -1]], [[1, 0], [2, 0], [2, 1]],
    [[0, -1], [0, -2], [1, -2]], [[0, -1], [0, -2], [-1, -2]],
    [[-1, 0], [-2, 0], [-2, -1]], [[-1, 0], [-2, 0], [-2, 1]],
    # ㄱㄴ
    [[0, 1], [1, 1], [1, 2]], [[0, 1], [-1, 1], [-1, 2]],
    [[1, 0], [1, 1], [2, 1]], [[1, 0], [1, -1], [2, -1]],
    # ㅜ
    [[-1, 0], [0, 1], [1, 0]], [[0, -1], [1, 0], [0, 1]],
    [[-1, 0], [0, -1], [1, 0]], [[0, -1], [-1, 0], [0, 1]]]

for y in range(N):
    for x in range(M):
        for d in shape:
            s = matrix[y][x]
            for dx, dy in d:
                if 0 <= x + dx < M and 0 <= y + dy < N:
                    s += matrix[y + dy][x + dx]
                else:
                    s = 0
                    break
            m = max(m, s)

print(m)
